(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"j",(function(){return j}));var o=n(3),c=Object(o.b)("phonebook/fetchContact"),r=Object(o.b)("phonebook/fetchContactSuccess"),a=Object(o.b)("phonebook/fetchContactError"),i=Object(o.b)("phonebook/addContact"),l=Object(o.b)("phonebook/addContactSuccess"),s=Object(o.b)("phonebook/addContactError"),u=Object(o.b)("phonebook/deleteContact"),d=Object(o.b)("phonebook/deleteContactSuccess"),b=Object(o.b)("phonebook/deleteContactError"),j=Object(o.b)("phonebook/cgangeFilter")},20:function(e,t,n){"use strict";var o=n(18),c=n.n(o),r=n(27),a=n(3),i=n(14),l=n.n(i);l.a.defaults.baseURL="https://connections-api.herokuapp.com",console.log(l.a.defaults,"AXIOS api");var s=function(e){l.a.defaults.headers.common.Authorization="Bearer ".concat(e)},u=function(){l.a.defaults.headers.common.Authorization=""},d={register:Object(a.c)("auth/register",function(){var e=Object(r.a)(c.a.mark((function e(t){var n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/users/signup",t);case 3:return n=e.sent,o=n.data,console.log(o,"data in register"),s(o.token),e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0,"error register");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),logIn:Object(a.c)("auth/login",function(){var e=Object(r.a)(c.a.mark((function e(t){var n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/users/login",t);case 3:return n=e.sent,o=n.data,console.log(o,"data in login"),console.log(l.a.defaults,"defaults axios"),s(o.token),e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0,"error in login");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),logOut:Object(a.c)("auth/logout",Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/users/logout");case 3:t=e.sent,t.data,console.log("data in logout"),console.log(l.a.defaults,"defaults axios logout"),u(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0,"error in logout");case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))))};t.a=d},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);var o,c=n(32),r=n(33).a.div(o||(o=Object(c.a)(["\n  background-color: rgba(39, 36, 36, 0.394);\n  padding: 15px;\n  width: fit-content;\n  border-radius: 6px;\n"]))),a=n(1),i=function(e){var t=e.children;return Object(a.jsx)(r,{children:t})}},77:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var o,c,r,a=n(0),i=n.n(a),l=n(24),s=n.n(l),u=n(15),d=n(13),b=n(28),j=n(3),g=n(16),f=n(46),p=n.n(f),h=n(47),O=n.n(h),k=n(5),x=n(20),v=Object(j.e)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedIn:!1,isFetchingCurrentUser:!1},extraReducers:(o={},Object(k.a)(o,x.a.register.fulfilled,(function(e,t){console.log(e,"state in slice to register"),console.log(t.payload,"payload in slice to register"),e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0})),Object(k.a)(o,x.a.logIn.fulfilled,(function(e,t){console.log(e,"state in slice to login"),console.log(t.payload,"payload in slice to login"),e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0})),Object(k.a)(o,x.a.logOut.fulfilled,(function(e,t){console.log(e,"state in slice to logout"),console.log(t.payload,"payload in slice to logout"),e.user={name:null,email:null},e.token=null,e.isLoggedIn=!1})),o)}).reducer,y=n(6),m=n(10),w=Object(j.d)(!1,(c={},Object(k.a)(c,m.b,(function(){return!0})),Object(k.a)(c,m.c,(function(){return!1})),Object(k.a)(c,m.a,(function(){return!1})),Object(k.a)(c,m.e,(function(){return!0})),Object(k.a)(c,m.f,(function(){return!1})),Object(k.a)(c,m.d,(function(){return!1})),Object(k.a)(c,m.h,(function(){return!0})),Object(k.a)(c,m.i,(function(){return!1})),Object(k.a)(c,m.g,(function(){return!1})),c)),I=Object(j.d)("",{"phonebook/cgangeFilter":function(e,t){return t.payload}}),L=Object(j.d)([],(r={},Object(k.a)(r,m.i,(function(e,t){return t.payload})),Object(k.a)(r,m.c,(function(e,t){var n=t.payload;return[].concat(Object(b.a)(e),[n])})),Object(k.a)(r,m.f,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),r)),C=Object(y.b)({contacts:L,filter:I,loading:w}),S={key:"auth",storage:O.a,whitelist:["token"]},A=Object(j.a)({reducer:{auth:Object(g.g)(S,v),phoneBook:C},middleware:function(e){return[].concat(Object(b.a)(e({serializableCheck:{ignoredActions:[g.a,g.f,g.b,g.c,g.d,g.e]}})),[p.a])},devTools:!1}),E=(Object(g.h)(A),n(77),n(4)),z=n(1),B={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}};function F(){return Object(z.jsxs)("nav",{children:[Object(z.jsx)(u.b,{to:"/",exact:!0,style:B.link,activeStyle:B.activeLink,children:"General"}),Object(z.jsx)(u.b,{to:"/contacts",exact:!0,style:B.link,activeStyle:B.activeLink,children:"Phonebook"})]})}var R={getIsLoggedIn:function(e){return console.log(e,"STATE"),e.auth.isLoggedIn},getUsername:function(e){return console.log(e,"STATE"),e.auth.user.name}},T=n.p+"static/media/rock.22a7a8d2.jpg",U={container:{display:"flex",alignItems:"center"},avatar:{borderRadius:"50%",marginRight:4},name:{fontWeight:700,marginRight:12,color:"white"},pap:{color:"#E84A5F"}};function W(){var e=Object(d.c)(),t=Object(d.d)(R.getUsername),n=T;return Object(z.jsxs)("div",{style:U.container,children:[Object(z.jsx)("img",{src:n,alt:"",width:"40",style:U.avatar}),Object(z.jsxs)("span",{style:U.name,children:["Welcome, ",Object(z.jsx)("span",{style:U.pap,children:t})]}),Object(z.jsx)("button",{type:"button",onClick:function(){return e(x.a.logOut())},children:"Logout"})]})}var D={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}};function J(){return Object(z.jsxs)("div",{children:[Object(z.jsx)(u.b,{to:"/register",exact:!0,style:D.link,activeStyle:D.activeLink,children:"Create an account"}),Object(z.jsx)(u.b,{to:"/login",exact:!0,style:D.link,activeStyle:D.activeLink,children:"Sign In"})]})}var G={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}};function M(){var e=Object(d.d)(R.getIsLoggedIn);return Object(z.jsxs)("header",{style:G.header,children:[Object(z.jsx)(F,{}),e?Object(z.jsx)(W,{}):Object(z.jsx)(J,{})]})}var P=n(45),X=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,85))})),q=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,86))})),H=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,87))})),K=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,88))}));function N(){Object(d.c)();return Object(z.jsxs)(P.a,{children:[Object(z.jsx)(M,{}),Object(z.jsx)(a.Suspense,{fallback:Object(z.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."}),children:Object(z.jsxs)(E.c,{children:[Object(z.jsx)(E.a,{exact:!0,path:"/",component:X}),Object(z.jsx)(E.a,{path:"/register",component:q}),Object(z.jsx)(E.a,{path:"/login",component:H}),Object(z.jsx)(E.a,{path:"/contacts",component:K})]})})]})}n(81);s.a.render(Object(z.jsx)(i.a.StrictMode,{children:Object(z.jsx)(d.a,{store:A,children:Object(z.jsx)(u.a,{children:Object(z.jsx)(N,{})})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.875a0810.chunk.js.map