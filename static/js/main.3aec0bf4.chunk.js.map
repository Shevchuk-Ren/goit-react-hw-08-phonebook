{"version":3,"sources":["redux/phoneBook/phonebook-actions.js","redux/auth/auth-operations.js","components/Container/Container.styled.jsx","components/Container/Container.js","redux/auth/auth-slice.js","redux/phoneBook/phonebook-reducer.js","redux/store.js","redux/auth/auth-selectors.js","components/Navigation/Navigation.js","components/UserMenu/rock.jpg","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/PrivateRouter.js","components/PublicRoute.js","components/App/App.js","index.js"],"names":["fetchPhonebookRequest","createAction","fetchPhonebookSuccess","fetchPhonebookError","addPhonebookRequest","addPhonebookSuccess","addPhonebookError","deletePhonebookRequest","deletePhonebookSuccess","deletePhonebookError","filterContacts","axios","defaults","baseURL","console","log","token","headers","common","Authorization","authOperations","register","createAsyncThunk","credentials","a","post","data","logIn","logOut","refreshCurrentUser","_","thunkAPI","getState","state","tokenPersisted","auth","rejectWithValue","get","Wrapper","styled","div","Container","children","authSlice","createSlice","name","initialState","user","email","isLoggedIn","isFetchingCurrentUser","extraReducers","fulfilled","action","payload","pending","rejected","loading","createReducer","filterReducer","contacts","filter","id","phoneReducer","combineReducers","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","phoneBook","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","devTools","process","persistor","persistStore","authSelectors","getIsLoggedIn","getUsername","getIsFetchingCurrent","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","Navigation","useSelector","to","exact","style","activeStyle","container","alignItems","avatar","borderRadius","marginRight","pap","UserMenu","dispatch","useDispatch","defaultAvatar","src","alt","width","type","onClick","AuthNav","header","justifyContent","borderBottom","AppBar","PrivateRoute","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","HomeView","lazy","RegisterView","LoginView","PhonebookView","App","useEffect","fallback","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3aec0bf4.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchPhonebookRequest = createAction('phonebook/fetchContact');\nexport const fetchPhonebookSuccess = createAction(\n  'phonebook/fetchContactSuccess',\n);\nexport const fetchPhonebookError = createAction('phonebook/fetchContactError');\n\nexport const addPhonebookRequest = createAction('phonebook/addContact');\nexport const addPhonebookSuccess = createAction('phonebook/addContactSuccess');\nexport const addPhonebookError = createAction('phonebook/addContactError');\n\nexport const deletePhonebookRequest = createAction('phonebook/deleteContact');\nexport const deletePhonebookSuccess = createAction(\n  'phonebook/deleteContactSuccess',\n);\nexport const deletePhonebookError = createAction(\n  'phonebook/deleteContactError',\n);\n\nexport const filterContacts = createAction('phonebook/cgangeFilter');\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\nconsole.log(axios.defaults, `AXIOS api`);\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst register = createAsyncThunk('auth/register', async credentials => {\n  try {\n    const { data } = await axios.post('/users/signup', credentials);\n    console.log(data, `data in register`);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    console.log(error, `error register`);\n  }\n});\n\nconst logIn = createAsyncThunk('auth/login', async credentials => {\n  try {\n    const { data } = await axios.post('/users/login', credentials);\n    console.log(data, `data in login`);\n    console.log(axios.defaults, `defaults axios`);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    console.log(error, `error in login`);\n  }\n});\n\nconst logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    const { data } = await axios.post('/users/logout');\n    console.log(`data in logout`);\n    console.log(axios.defaults, `defaults axios logout`);\n    token.unset();\n  } catch (error) {\n    console.log(error, `error in logout`);\n  }\n});\n\nconst refreshCurrentUser = createAsyncThunk(\n  'auth/current',\n  async (_, thunkAPI) => {\n    console.log(thunkAPI.getState(), `thunkAPI in refresh`);\n    const state = thunkAPI.getState();\n    const tokenPersisted = state.auth.token;\n    if (tokenPersisted === null) {\n      console.log(`No token here`);\n      return thunkAPI.rejectWithValue();\n    }\n    token.set(tokenPersisted);\n\n    try {\n      const { data } = await axios.get('/users/current');\n      console.log(data, `response in refresh`);\n      return data;\n    } catch (error) {\n      console.log(error, `error in refresh`);\n    }\n  },\n);\n\nconst authOperations = {\n  register,\n  logIn,\n  logOut,\n  refreshCurrentUser,\n};\n\nexport default authOperations;\n","import styled from '@emotion/styled';\n\nexport const Wrapper = styled.div`\n  background-color: rgba(39, 36, 36, 0.394);\n  padding: 15px;\n  width: 1200px;\n  margin-left: auto;\n  margin-right: auto;\n  padding-top: 20px;\n  padding-left: 15px;\n  padding-right: 15px;\n\n  border-radius: 6px;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Wrapper } from './Container.styled';\n\nconst Container = ({ children }) => <Wrapper>{children}</Wrapper>;\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import { createSlice } from '@reduxjs/toolkit';\nimport authOperations from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrentUser: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      console.log(state, `state in slice to register`);\n      console.log(action.payload, `payload in slice to register`);\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      console.log(state, `state in slice to login`);\n      console.log(action.payload, `payload in slice to login`);\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logOut.fulfilled](state, action) {\n      console.log(state, `state in slice to logout`);\n      console.log(action.payload, `payload in slice to logout`);\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [authOperations.refreshCurrentUser.pending](state, action) {\n      console.log(state, `state in slice to refresh`);\n      console.log(action.payload, `payload in slice to refresh`);\n\n      state.isFetchingCurrentUser = true;\n    },\n    [authOperations.refreshCurrentUser.fulfilled](state, action) {\n      console.log(state, `state in slice to refresh`);\n      console.log(action.payload, `payload in slice to refresh`);\n      state.user = { ...action.payload };\n      state.isLoggedIn = true;\n      state.isFetchingCurrentUser = false;\n    },\n    [authOperations.refreshCurrentUser.rejected](state, _) {\n      console.log(state, `state in slice to refresh rejected`);\n\n      state.isFetchingCurrentUser = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\n\nimport {\n  addPhonebookError,\n  addPhonebookRequest,\n  addPhonebookSuccess,\n  deletePhonebookError,\n  deletePhonebookRequest,\n  deletePhonebookSuccess,\n  fetchPhonebookError,\n  fetchPhonebookRequest,\n  fetchPhonebookSuccess,\n} from './phonebook-actions';\n\nconst initialStateFilter = '';\nconst initialStateContacts = [];\n\nconst loading = createReducer(false, {\n  [addPhonebookRequest]: () => true,\n  [addPhonebookSuccess]: () => false,\n  [addPhonebookError]: () => false,\n  [deletePhonebookRequest]: () => true,\n  [deletePhonebookSuccess]: () => false,\n  [deletePhonebookError]: () => false,\n  [fetchPhonebookRequest]: () => true,\n  [fetchPhonebookSuccess]: () => false,\n  [fetchPhonebookError]: () => false,\n});\nconst filterReducer = createReducer(initialStateFilter, {\n  'phonebook/cgangeFilter': (_, action) => action.payload,\n});\n\nconst contacts = createReducer(initialStateContacts, {\n  [fetchPhonebookSuccess]: (_, { payload }) => payload,\n\n  [addPhonebookSuccess]: (state, { payload }) => {\n    return [...state, payload];\n  },\n  [deletePhonebookSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nexport const phoneReducer = combineReducers({\n  contacts,\n  filter: filterReducer,\n  loading,\n});\n// import { combineReducers } from 'redux';\n// import phoneBookTypes from './phonebook-types';\n\n// const filterReducer = (state = '', { type, payload }) => {\n//   switch (type) {\n//     case phoneBookTypes.FILTER:\n//       return payload;\n\n//     default:\n//       return state;\n//   }\n// };\n\n// const contacts = (\n//   state = [\n//     { id: 'id-1', name: 'Rosie Simpson', number: '459-12-56' },\n//     { id: 'id-2', name: 'Hermione Kline', number: '443-89-12' },\n//     { id: 'id-3', name: 'Eden Clements', number: '645-17-79' },\n//     { id: 'id-4', name: 'Annie Copeland', number: '227-91-26' },\n//   ],\n//   { type, payload },\n// ) => {\n//   switch (type) {\n//     case phoneBookTypes.ADD_CONTACT:\n//       const normalizedName = state.find(\n//         contact => contact.name.toLowerCase() === payload.name.toLowerCase(),\n//       );\n\n//       if (normalizedName) {\n//         alert(`${payload.name} is alredy in contacts.`);\n//         return state;\n//       }\n//       return [...state, payload];\n\n//     case phoneBookTypes.DELETE:\n//       return state.filter(({ id }) => id !== payload);\n\n//     default:\n//       return state;\n//   }\n// };\n\n// export default combineReducers({\n//   contacts,\n//   filter: filterReducer,\n// });\n","// import { combineReducers } from 'redux';\n// import { configureStore } from '@reduxjs/toolkit';\n// import logger from 'redux-logger';\n// import {\n//   persistStore,\n//   FLUSH,\n//   REHYDRATE,\n//   PAUSE,\n//   PERSIST,\n//   PURGE,\n//   REGISTER,\n// } from 'redux-persist';\n\n// import { phoneReducer } from './phoneBook/phonebook-reducer';\n\n// const myMiddleware = store => next => action => {\n\n//   next(action)\n// }\n\n// const rootReducer = combineReducers({\n//   phoneBook: phoneReducer,\n\n// });\n\n// export const store = configureStore({\n//   reducer: rootReducer,\n\n//   middleware: (getDefaultMiddleware) => [\n//       ...getDefaultMiddleware({\n//        serializableCheck: {\n//         ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n//     },\n//       }),\n//     myMiddleware,\n//     logger,\n//   ],\n\n//   devTools: process.env.NODE_ENV === 'development',\n// });\n\n// export const persistor = persistStore(store);\n\n// // const feedbackStore = {\n// //   store,\n// //   persistor,\n// // };\n\nimport { configureStore } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport logger from 'redux-logger';\nimport storage from 'redux-persist/lib/storage';\n\nimport authReducer from './auth/auth-slice';\nimport { phoneReducer } from './phoneBook/phonebook-reducer';\nconst middleware = getDefaultMiddleware => [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    phoneBook: phoneReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","const getIsLoggedIn = state => {\n  console.log(state, `STATE`);\n  return state.auth.isLoggedIn;\n};\n\nconst getUsername = state => {\n  console.log(state, `STATE`);\n  return state.auth.user.name;\n};\n\nconst getIsFetchingCurrent = state => state.auth.isFetchingCurrentUser;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUsername,\n  getIsFetchingCurrent,\n};\n\nexport default authSelectors;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport authSelectors from '../../redux/auth/auth-selectors';\n\nconst styles = {\n  link: {\n    display: 'inline-block',\n    textDecoration: 'none',\n    padding: 12,\n    fontWeight: 700,\n    color: '#2A363B',\n  },\n  activeLink: {\n    color: '#E84A5F',\n  },\n};\n\nexport default function Navigation() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <nav>\n      <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\n        General\n      </NavLink>\n\n      {isLoggedIn && (\n        <NavLink\n          to=\"/contacts\"\n          exact\n          style={styles.link}\n          activeStyle={styles.activeLink}\n        >\n          Phonebook\n        </NavLink>\n      )}\n    </nav>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/rock.22a7a8d2.jpg\";","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport authOperations from '../../redux/auth/auth-operations';\nimport authSelectors from '../../redux/auth/auth-selectors';\nimport defaultAvatar from './rock.jpg';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  avatar: {\n    borderRadius: '50%',\n    marginRight: 4,\n  },\n  name: {\n    fontWeight: 700,\n    marginRight: 12,\n    color: 'white',\n  },\n  pap: {\n    color: '#E84A5F',\n  },\n};\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUsername);\n  const avatar = defaultAvatar;\n  return (\n    <div style={styles.container}>\n      <img src={avatar} alt=\"\" width=\"40\" style={styles.avatar} />\n      <span style={styles.name}>\n        Welcome, <span style={styles.pap}>{name}</span>\n      </span>\n      <button type=\"button\" onClick={() => dispatch(authOperations.logOut())}>\n        Logout\n      </button>\n    </div>\n  );\n}\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst styles = {\n  link: {\n    display: 'inline-block',\n    textDecoration: 'none',\n    padding: 12,\n    fontWeight: 700,\n    color: '#2A363B',\n  },\n  activeLink: {\n    color: '#E84A5F',\n  },\n};\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Create an account\n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Sign In\n      </NavLink>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport Navigation from '../Navigation/Navigation';\nimport UserMenu from '../UserMenu/UserMenu';\nimport AuthNav from '../AuthNav/AuthNav';\nimport authSelectors from '../../redux/auth/auth-selectors';\n\nconst styles = {\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderBottom: '1px solid #2A363B',\n  },\n};\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <header style={styles.header}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport authSelectors from '../redux/auth/auth-selectors';\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport authSelectors from '../redux/auth/auth-selectors';\n\nexport default function PublicRoute({\n  children,\n  redirectTo = '/',\n  restricted = false,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import React, { useEffect, Suspense, lazy } from 'react';\nimport { Switch } from 'react-router-dom';\nimport AppBar from '../AppBar';\nimport Container from '../Container';\nimport { useDispatch, useSelector } from 'react-redux';\nimport authOperations from '../../redux/auth/auth-operations';\nimport PrivateRoute from '../PrivateRouter';\nimport PublicRoute from '../PublicRoute';\nimport authSelectors from '../../redux/auth/auth-selectors';\n\nconst HomeView = lazy(() => import('../../views/HomeView'));\nconst RegisterView = lazy(() => import('../../views/RegisterView'));\nconst LoginView = lazy(() => import('../../views/LoginView'));\nconst PhonebookView = lazy(() => import('../../views/PhonebookView'));\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\n\n  useEffect(() => {\n    dispatch(authOperations.refreshCurrentUser());\n  }, [dispatch]);\n\n  return (\n    !isFetchingCurrentUser && (\n      <Container>\n        <AppBar />\n        <Suspense fallback={<p>Загружаем...</p>}>\n          <Switch>\n            <PublicRoute exact path=\"/\">\n              {' '}\n              <HomeView />\n            </PublicRoute>\n            <PublicRoute exact path=\"/register\" restricted redirectTo=\"/login\">\n              {' '}\n              <RegisterView />\n            </PublicRoute>\n\n            <PublicRoute exact path=\"/login\" restricted redirectTo=\"/contacts\">\n              {' '}\n              <LoginView />\n            </PublicRoute>\n\n            <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n              <PhonebookView />\n            </PrivateRoute>\n          </Switch>\n        </Suspense>\n      </Container>\n    )\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store, persistor } from './redux/store';\nimport './index.css';\nimport App from './components/App/App';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}